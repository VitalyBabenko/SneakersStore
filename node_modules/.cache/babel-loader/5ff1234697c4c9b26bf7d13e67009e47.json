{"ast":null,"code":"import _objectSpread from\"/Users/Vitaliy/Desktop/web/react/sneakers/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/Vitaliy/Desktop/web/react/sneakers/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/Vitaliy/Desktop/web/react/sneakers/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/Vitaliy/Desktop/web/react/sneakers/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/Vitaliy/Desktop/web/react/sneakers/node_modules/@babel/runtime/regenerator/index.js\";import React from'react';import axios from'axios';import Card from'../components/Card';import AppContext from'../context';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Orders(){var _React$useContext=React.useContext(AppContext),onAddToFavorite=_React$useContext.onAddToFavorite,onAddToCart=_React$useContext.onAddToCart,mockApi=_React$useContext.mockApi;var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),isLoading=_React$useState2[0],setIsLoading=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),orders=_React$useState4[0],setOrders=_React$useState4[1];React.useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(mockApi,\"orders\"));case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setOrders(data.map(function(obj){return obj.items;}).flat());setIsLoading(false);_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);alert('Ошибка при запросе заказов');console.error(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}))();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"content p-40 \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-center justify-between mb-40 \",children:/*#__PURE__*/_jsx(\"h1\",{children:\" \\u0417\\u0430\\u043A\\u0430\\u0437\\u044B \"})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-wrap \",children:(isLoading?_toConsumableArray(Array(8)):orders).map(function(item,index){return/*#__PURE__*/_jsx(Card,_objectSpread({loading:isLoading},item),index);})})]});}export default Orders;","map":{"version":3,"sources":["/Users/Vitaliy/Desktop/web/react/sneakers/src/pages/Orders.js"],"names":["React","axios","Card","AppContext","Orders","useContext","onAddToFavorite","onAddToCart","mockApi","useState","isLoading","setIsLoading","orders","setOrders","useEffect","get","data","map","obj","items","flat","alert","console","error","Array","item","index"],"mappings":"qoBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,C,wFAMA,QAASC,CAAAA,MAAT,EAAkB,CACf,sBAAkDJ,KAAK,CAACK,UAAN,CAAiBF,UAAjB,CAAlD,CAAQG,eAAR,mBAAQA,eAAR,CAAyBC,WAAzB,mBAAyBA,WAAzB,CAAsCC,OAAtC,mBAAsCA,OAAtC,CACA,oBAAkCR,KAAK,CAACS,QAAN,CAAe,IAAf,CAAlC,oDAAOC,SAAP,qBAAkBC,YAAlB,qBACA,qBAA4BX,KAAK,CAACS,QAAN,CAAe,EAAf,CAA5B,qDAAOG,MAAP,qBAAeC,SAAf,qBACAb,KAAK,CAACc,SAAN,CAAgB,UAAM,CACnB,wDAAC,mMAE4Bb,CAAAA,KAAK,CAACc,GAAN,WAAaP,OAAb,WAF5B,uCAEaQ,IAFb,kBAEaA,IAFb,CAGKH,SAAS,CAACG,IAAI,CAACC,GAAL,CAAS,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,KAAR,EAAZ,EAA2BC,IAA3B,EAAD,CAAT,CACAT,YAAY,CAAC,KAAD,CAAZ,CAJL,+EAMKU,KAAK,CAAC,4BAAD,CAAL,CACAC,OAAO,CAACC,KAAR,cAPL,oEAAD,KAUF,CAXD,CAWG,EAXH,EAaA,mBAEG,aAAK,SAAS,CAAC,eAAf,wBACG,YAAK,SAAS,CAAC,4CAAf,uBACG,8DADH,EADH,cAIG,YAAK,SAAS,CAAC,mBAAf,UACI,CAACb,SAAS,oBAAOc,KAAK,CAAC,CAAD,CAAZ,EAAmBZ,MAA7B,EAAqCK,GAArC,CAAyC,SAACQ,IAAD,CAAOC,KAAP,qBACvC,KAAC,IAAD,gBAEG,OAAO,CAAEhB,SAFZ,EAGOe,IAHP,EACQC,KADR,CADuC,EAAzC,CADJ,EAJH,GAFH,CAkBF,CAED,cAAetB,CAAAA,MAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Card from '../components/Card';\nimport AppContext from '../context';\n\n\n\n\n\nfunction Orders() {\n   const { onAddToFavorite, onAddToCart, mockApi } = React.useContext(AppContext)\n   const [isLoading, setIsLoading] = React.useState(true)\n   const [orders, setOrders] = React.useState([])\n   React.useEffect(() => {\n      (async () => {\n         try {\n            const { data } = await axios.get(`${mockApi}orders`)\n            setOrders(data.map(obj => obj.items).flat())\n            setIsLoading(false)\n         } catch (error) {\n            alert('Ошибка при запросе заказов')\n            console.error(error);\n         }\n      })();\n   }, []);\n\n   return (\n\n      <div className=\"content p-40 \" >\n         <div className=\"d-flex align-center justify-between mb-40 \">\n            <h1> Заказы </h1>\n         </div>\n         <div className='d-flex flex-wrap '>\n            {(isLoading ? [...Array(8)] : orders).map((item, index) => (\n               <Card\n                  key={index}\n                  loading={isLoading}\n                  {...item}\n               />\n            ))\n            }\n         </div>\n      </div>\n   )\n}\n\nexport default Orders"]},"metadata":{},"sourceType":"module"}